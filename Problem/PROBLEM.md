# 发布 | PAC2018 优化组决赛题二

并行应用挑战赛 2018-09-04

## 题目背景

为了能够在真实世界场景下观察大脑，我们需要有超强的信号处理能力来提升测量指标的信噪比--将噪音与脑信号以及不同功能区的脑信号分离开来。盲源分析就是一种近年来常用的有效提高信噪比的手段。然而有效的盲源分离算法运行比较缓慢，需要提升速度才能被广泛应于线下以及实现实时的神经信号处理与反馈。

## 赛题简介

本赛题采用法国著名数学家卡多佐的 SOBI 盲源分离算法对一段 128 导的脑电数据 X（t）进行盲源分离。SOBI 是一个迭代的盲源分离算法，目的是将混合信号 X(t)还原成源信号 S(t)。数学表达式是：X(t) = A×S(t)，其中 A 是信号混合矩阵，它的逆矩阵是信号分解矩阵 W。估算的源信号 S^(t) = W×X(t)。SOBI 算法分为两步：计算关联矩阵；联合对角化。

赛题的代码与数据由香港大学教育学院教育神经科学实验室提供（NfE.edu.hku.hk）。赛题程序、简介、输入数据和输出结果都包含在 nfe_run_SOBI.zip 的压缩包里。本赛题初始代码为 Matlab 代码。要求决赛队伍在充分了解该赛题（背景，算法）并测试 Matlab 代码后，自主修改为 C 或 C++或 Fortran 代码来实现优化。

- a.入文件：X（t）存储在两种格式下：（1）Matlab 格式输入文件‘DATA.mat’是一个 n×m 的矩阵（n=128，m=81626）。该输入文件用于在 Matlab 环境下测试 SOBI 程序。（2）二进制输入文件‘DATA.bin’数据按照 128 个一行存储。每个元素是单精度。参赛队员可以使用此二进制文件作为自主修改的程序（如 C，C++或 Fortran）的输入文件。

- b.输出文件：SOBI 的输出变量是 n×n 的矩阵 W。如果选手使用非 Matlab 语言来优化程序，要求该语言生成的 W 矩阵能够被 Matlab 识别和读取，并在 Matlab 下用 result_testing.m 脚本验证正确性。

- c.运行脚本：将压缩包解压之后，把 Matlab 的当前工作路径设置成 nfe_run_SOBI 文件夹。在 Matlab 中打开 run_SOBI.m 的脚本程序即可运行得到输出结果 W 矩阵。

- d.结果正确性验证：验证脚本在 result_testing.m 文件中，该脚本调用 test_function 函数。验证原理是：1. 对两个 W 的逆的列进行相似性 match，因为不同计算机上算出的列的顺序会有不同。 2. 对 match 过后的两个 W 逆进行列与列之间的相关性计算，得出 128 个相关性值。3. 如果有 80 个以上的相关性值大于 0.95，检验通过。否则失败。

- e.Matlab 学生版下载 (也可以下载试用版)

https://www.mathworks.com/academia/student_version.html

- d.赛题程序下载

链接：

https://pan.baidu.com/s/1JOpCnXnlJMg5UdmNyt940w

密码：7dxf

## 比赛规则

1.优化方式

a. 可以实现多线程/多进程代码 。

b.可以对该算法做一定的改进（但不得使用其他原理的算法），如果对算法修改有疑问，请联系竞赛组委会。

c.在代码实现的过程中可以实现负载/IO/cache/通信等相关优化。

2.优胜标准：程序运行墙钟时间最短。

a.墙钟时间为程序完整运行的时间。使用 Linux 环境下”Time”命令计时。运行方式为： time <参赛队伍最终二进制代码>

b.结果与标准输出结果相比，正确性满足要求。（具体见“正确性验证”条款）

3.正确性验证：为了避免不同软件开发语言带来的精度上的差异，要求：每个参赛队必须使用 matlab 来验证结果准确性。

a.不得修改组委会的 matlab 验证脚本 – result_testing.m 和 test_function.m。

b.不得修改 W_standard.mat 标准输出文件。

4.数据精度要求：原始输入数据 DATA.mat 和 DATA.bin 都是单精度，输出数据 W：双精度。Matlab 程序以及选手生成的程序中的所有参数和变量的数据类型都必须使用双精度

5.信息提交：决赛评审时，每个参赛队需提供以下信息：

i.SOBI 函数中参数 EEG_DATA 在参赛队开发代码中定义的变量名。

ii.SOBI 函数中参数 TAU 在参赛队开发代码中定义的变量名。

iii.SOBI 函数中参数 fs 在参赛队开发代码中定义的变量名。

iv.SOBI 函数中参数 jthresh 在参赛队开发代码中定义的变量名。

v.代码开发简要说明 （分析，主要数据结构，数据交换机制，优化思路或方法）。

vi.生成的 W 矩阵。

6.违禁操作：不得修改以下内容；如果修改，成绩作废

i.组委会提供的 matlab 代码 SOBI.m 中的 SOBI（）函数的外部参数 ; 也指，根据 SOBI 函数重新开发的代码中与 SOBI 函数的参数对应的变量。这些参数在 Matlab 函数中被命名为：EEG\_ DATA （输入数据），TAU（计算关联矩阵所需要的时间延迟信息），fs（采样频率），jthresh （收敛阈值）。

ii.所有 SOBI 的内部参数。

硬件环境

Intel Xeon 处理器 E5-2690V3

2.60GHz/L3=30M, 12 cores. 128GB DDR4

Network: Intel 100GB Omni-Path

参数队每队最多可使用 2 个节点，即 48 核

软件环境

Intel compiler:17.0.1

Intel MPI:3.0.4-8.el7.x86_64

特别提示：PAC 优化组决赛共计两道赛题，各占决赛成绩的 45%，现场答辩及技术报告 PPT 占 10%。决赛题一已发布， 题二如上所示。
